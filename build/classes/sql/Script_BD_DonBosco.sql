-- MySQL Script generated by MySQL Workbench
-- Wed Jun 11 00:24:48 2025
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema papeleraartesanal
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema papeleraartesanal
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `papeleraartesanal` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci ;
USE `papeleraartesanal` ;

-- -----------------------------------------------------
-- Table `papeleraartesanal`.`almacen`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`almacen` (
  `idAlmacen` VARCHAR(10) NOT NULL,
  `nombre` VARCHAR(50) NULL DEFAULT NULL,
  `ubicacionFisica` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`idAlmacen`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`docidentidad`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`docidentidad` (
  `idDocIdentidad` VARCHAR(10) NOT NULL,
  `tipoDocumento` VARCHAR(20) NULL DEFAULT NULL,
  `numeroDocumento` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`idDocIdentidad`),
  UNIQUE INDEX `numeroDocumento` (`numeroDocumento` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`cliente`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`cliente` (
  `idCliente` VARCHAR(10) NOT NULL,
  `idDocIdentidad` VARCHAR(10) NOT NULL,
  `nombre` VARCHAR(50) NULL DEFAULT NULL,
  `apellido` VARCHAR(50) NULL DEFAULT NULL,
  `direccion` VARCHAR(100) NULL DEFAULT NULL,
  `telefono` VARCHAR(15) NULL DEFAULT NULL,
  `correo` VARCHAR(100) NULL DEFAULT NULL,
  `estado` TINYINT(1) NULL DEFAULT NULL,
  `fechaRegistro` DATE NULL DEFAULT NULL,
  PRIMARY KEY (`idCliente`),
  INDEX `idDocIdentidad_idx` (`idDocIdentidad` ASC) VISIBLE,
  CONSTRAINT `idDocIdentidad`
    FOREIGN KEY (`idDocIdentidad`)
    REFERENCES `papeleraartesanal`.`docidentidad` (`idDocIdentidad`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`proveedor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`proveedor` (
  `idProveedor` VARCHAR(10) NOT NULL,
  `nombre` VARCHAR(100) NULL DEFAULT NULL,
  `ruc` VARCHAR(20) NULL DEFAULT NULL,
  `direccion` VARCHAR(100) NULL DEFAULT NULL,
  `telefono` VARCHAR(15) NULL DEFAULT NULL,
  `estado` TINYINT(1) NULL DEFAULT NULL,
  PRIMARY KEY (`idProveedor`),
  UNIQUE INDEX `ruc` (`ruc` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`rol`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`rol` (
  `idRol` VARCHAR(10) NOT NULL,
  `nombreRol` VARCHAR(30) NULL DEFAULT NULL,
  `descripcion` TEXT NULL DEFAULT NULL,
  PRIMARY KEY (`idRol`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`empleado`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`empleado` (
  `idEmpleado` VARCHAR(10) NOT NULL,
  `idDocIdentidad` VARCHAR(10) NOT NULL,
  `nombre` VARCHAR(50) NULL DEFAULT NULL,
  `apellido` VARCHAR(50) NULL DEFAULT NULL,
  `direccion` VARCHAR(100) NULL DEFAULT NULL,
  `telefono` VARCHAR(15) NULL DEFAULT NULL,
  `correo` VARCHAR(100) NULL DEFAULT NULL,
  `contraseña` VARCHAR(255) NULL DEFAULT NULL,
  `idRol` VARCHAR(10) NULL DEFAULT NULL,
  `estado` TINYINT(1) NULL,
  `empleadocol` VARCHAR(45) NULL,
  PRIMARY KEY (`idEmpleado`),
  INDEX `idDocIdentidad` (`idDocIdentidad` ASC) VISIBLE,
  INDEX `idRol` (`idRol` ASC) VISIBLE,
  CONSTRAINT `empleado_ibfk_1`
    FOREIGN KEY (`idDocIdentidad`)
    REFERENCES `papeleraartesanal`.`docidentidad` (`idDocIdentidad`),
  CONSTRAINT `empleado_ibfk_2`
    FOREIGN KEY (`idRol`)
    REFERENCES `papeleraartesanal`.`rol` (`idRol`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`comprobantecompra`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`comprobantecompra` (
  `idComprobanteCompra` VARCHAR(10) NOT NULL,
  `docComprobante` VARCHAR(50) NULL DEFAULT NULL,
  `fechaEmision` DATE NULL DEFAULT NULL,
  PRIMARY KEY (`idComprobanteCompra`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`compra`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`compra` (
  `idCompra` VARCHAR(10) NOT NULL,
  `fechaCompra` DATE NULL DEFAULT NULL,
  `totalPagado` DECIMAL(10,2) NULL DEFAULT NULL,
  `idProveedor` VARCHAR(10) NULL DEFAULT NULL,
  `idEmpleado` VARCHAR(10) NULL DEFAULT NULL,
  `idComprobanteCompra` VARCHAR(10) NULL,
  PRIMARY KEY (`idCompra`),
  INDEX `idProveedor` (`idProveedor` ASC) VISIBLE,
  INDEX `idEmpleado` (`idEmpleado` ASC) VISIBLE,
  INDEX `idComprobanteCompra_idx` (`idComprobanteCompra` ASC) VISIBLE,
  CONSTRAINT `compra_ibfk_1`
    FOREIGN KEY (`idProveedor`)
    REFERENCES `papeleraartesanal`.`proveedor` (`idProveedor`),
  CONSTRAINT `compra_ibfk_2`
    FOREIGN KEY (`idEmpleado`)
    REFERENCES `papeleraartesanal`.`empleado` (`idEmpleado`),
  CONSTRAINT `idComprobanteCompra`
    FOREIGN KEY (`idComprobanteCompra`)
    REFERENCES `papeleraartesanal`.`comprobantecompra` (`idComprobanteCompra`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`comprobantepago`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`comprobantepago` (
  `idCompPago` VARCHAR(10) NOT NULL,
  `montoTotal` DECIMAL(10,2) NULL DEFAULT NULL,
  `fechaEmision` DATE NULL DEFAULT NULL,
  PRIMARY KEY (`idCompPago`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`detallecompra`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`detallecompra` (
  `idDetalleCompra` VARCHAR(10) NOT NULL,
  `nombreElemento` VARCHAR(100) NULL DEFAULT NULL,
  `tipoElementoComprado` VARCHAR(30) NULL DEFAULT NULL,
  `cantidad` INT NULL DEFAULT NULL,
  `idCompra` VARCHAR(10) NULL,
  PRIMARY KEY (`idDetalleCompra`),
  INDEX `idCompra_idx` (`idCompra` ASC) VISIBLE,
  CONSTRAINT `idCompra`
    FOREIGN KEY (`idCompra`)
    REFERENCES `papeleraartesanal`.`compra` (`idCompra`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`detallemifabricado`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`detallemifabricado` (
  `idDetalleMIFabricado` VARCHAR(10) NOT NULL,
  `dimensiones` VARCHAR(30) NULL DEFAULT NULL,
  `gramaje` VARCHAR(20) NULL DEFAULT NULL,
  `textura` VARCHAR(30) NULL DEFAULT NULL,
  `remate` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`idDetalleMIFabricado`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`venta`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`venta` (
  `idVenta` VARCHAR(10) NOT NULL,
  `idCompPago` VARCHAR(10) NULL DEFAULT NULL,
  `fechaVenta` DATE NULL DEFAULT NULL,
  `metodoPago` VARCHAR(30) NULL DEFAULT NULL,
  `estadoPago` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`idVenta`),
  INDEX `idCompPago` (`idCompPago` ASC) VISIBLE,
  CONSTRAINT `venta_ibfk_1`
    FOREIGN KEY (`idCompPago`)
    REFERENCES `papeleraartesanal`.`comprobantepago` (`idCompPago`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`pedido`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`pedido` (
  `idPedido` VARCHAR(10) NOT NULL,
  `idCliente` VARCHAR(10) NULL DEFAULT NULL,
  `idEmpleado` VARCHAR(10) NULL DEFAULT NULL,
  `observaciones` TEXT NULL DEFAULT NULL,
  `estadoPedido` VARCHAR(30) NULL DEFAULT NULL,
  `idVenta` VARCHAR(10) NULL DEFAULT NULL,
  PRIMARY KEY (`idPedido`),
  INDEX `idCliente` (`idCliente` ASC) VISIBLE,
  INDEX `idEmpleado` (`idEmpleado` ASC) VISIBLE,
  INDEX `idVenta` (`idVenta` ASC) VISIBLE,
  CONSTRAINT `pedido_ibfk_1`
    FOREIGN KEY (`idCliente`)
    REFERENCES `papeleraartesanal`.`cliente` (`idCliente`),
  CONSTRAINT `pedido_ibfk_2`
    FOREIGN KEY (`idEmpleado`)
    REFERENCES `papeleraartesanal`.`empleado` (`idEmpleado`),
  CONSTRAINT `pedido_ibfk_3`
    FOREIGN KEY (`idVenta`)
    REFERENCES `papeleraartesanal`.`venta` (`idVenta`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`productoterminado`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`productoterminado` (
  `idProductoTerminado` VARCHAR(10) NOT NULL,
  `nombre` VARCHAR(100) NULL DEFAULT NULL,
  `descripcion` TEXT NULL DEFAULT NULL,
  `precio` DECIMAL(10,2) NULL DEFAULT NULL,
  `stockMinimo` INT NULL DEFAULT NULL,
  `tipoPT` VARCHAR(20) NULL DEFAULT NULL,
  `dimensiones` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`idProductoTerminado`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`detallepedido`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`detallepedido` (
  `idPedido` VARCHAR(10) NOT NULL,
  `idProductoTerminado` VARCHAR(10) NOT NULL,
  `cantidad` INT NULL DEFAULT NULL,
  `precioUnitario` DECIMAL(10,2) NULL DEFAULT NULL,
  PRIMARY KEY (`idPedido`, `idProductoTerminado`),
  INDEX `idProductoTerminado` (`idProductoTerminado` ASC) VISIBLE,
  CONSTRAINT `detallepedido_ibfk_1`
    FOREIGN KEY (`idPedido`)
    REFERENCES `papeleraartesanal`.`pedido` (`idPedido`),
  CONSTRAINT `detallepedido_ibfk_2`
    FOREIGN KEY (`idProductoTerminado`)
    REFERENCES `papeleraartesanal`.`productoterminado` (`idProductoTerminado`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`plantillami`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`plantillami` (
  `idPlantillaMI` VARCHAR(10) NOT NULL,
  `idProductoTerminado` VARCHAR(10) NULL DEFAULT NULL,
  `observaciones` TEXT NULL DEFAULT NULL,
  `cantidadObtenidaPT` INT NULL DEFAULT NULL,
  PRIMARY KEY (`idPlantillaMI`),
  INDEX `idProductoTerminado` (`idProductoTerminado` ASC) VISIBLE,
  CONSTRAINT `plantillami_ibfk_1`
    FOREIGN KEY (`idProductoTerminado`)
    REFERENCES `papeleraartesanal`.`productoterminado` (`idProductoTerminado`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`materialintermedio`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`materialintermedio` (
  `idMaterialIntermedio` VARCHAR(10) NOT NULL,
  `idDetalleMIFabricado` VARCHAR(10) NULL DEFAULT NULL,
  `nombre` VARCHAR(100) NULL DEFAULT NULL,
  `descripcion` TEXT NULL DEFAULT NULL,
  `unidad_medida` VARCHAR(30) NULL DEFAULT NULL,
  `stockMinimo` INT NULL DEFAULT NULL,
  `tipoMI` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`idMaterialIntermedio`),
  INDEX `idDetalleMIFabricado` (`idDetalleMIFabricado` ASC) VISIBLE,
  CONSTRAINT `materialintermedio_ibfk_1`
    FOREIGN KEY (`idDetalleMIFabricado`)
    REFERENCES `papeleraartesanal`.`detallemifabricado` (`idDetalleMIFabricado`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`detalleplantillami`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`detalleplantillami` (
  `idDetallePlantillaMI` VARCHAR(10) NOT NULL,
  `idMaterialIntermedio` VARCHAR(10) NULL DEFAULT NULL,
  `cantidadRequerida` INT NULL DEFAULT NULL,
  `comentarios` TEXT NULL DEFAULT NULL,
  `idPlantillaMI` VARCHAR(10) NULL,
  PRIMARY KEY (`idDetallePlantillaMI`),
  INDEX `idPlantillaMI_idx` (`idPlantillaMI` ASC) VISIBLE,
  INDEX `idMaterialIntermedio_idx` (`idMaterialIntermedio` ASC) VISIBLE,
  CONSTRAINT `idPlantillaMI`
    FOREIGN KEY (`idPlantillaMI`)
    REFERENCES `papeleraartesanal`.`plantillami` (`idPlantillaMI`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `idMaterialIntermedio`
    FOREIGN KEY (`idMaterialIntermedio`)
    REFERENCES `papeleraartesanal`.`materialintermedio` (`idMaterialIntermedio`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`empleadoxrol`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`empleadoxrol` (
  `idEmpleado` VARCHAR(10) NOT NULL,
  `idRol` VARCHAR(10) NOT NULL,
  `fechaRolAñadido` DATE NULL DEFAULT NULL,
  PRIMARY KEY (`idEmpleado`, `idRol`),
  INDEX `idRol` (`idRol` ASC) VISIBLE,
  CONSTRAINT `empleadoxrol_ibfk_1`
    FOREIGN KEY (`idEmpleado`)
    REFERENCES `papeleraartesanal`.`empleado` (`idEmpleado`),
  CONSTRAINT `empleadoxrol_ibfk_2`
    FOREIGN KEY (`idRol`)
    REFERENCES `papeleraartesanal`.`rol` (`idRol`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`inventariomi`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`inventariomi` (
  `idInventarioMI` VARCHAR(10) NOT NULL,
  `idAlmacen` VARCHAR(10) NULL DEFAULT NULL,
  `stockActual` INT NULL DEFAULT NULL,
  PRIMARY KEY (`idInventarioMI`),
  INDEX `idAlmacen` (`idAlmacen` ASC) VISIBLE,
  CONSTRAINT `inventariomi_ibfk_2`
    FOREIGN KEY (`idAlmacen`)
    REFERENCES `papeleraartesanal`.`almacen` (`idAlmacen`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`inventariomp`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`inventariomp` (
  `idInventarioMP` VARCHAR(10) NOT NULL,
  `idAlmacen` VARCHAR(10) NULL DEFAULT NULL,
  `stockActual` INT NULL DEFAULT NULL,
  PRIMARY KEY (`idInventarioMP`),
  INDEX `idAlmacen` (`idAlmacen` ASC) VISIBLE,
  CONSTRAINT `inventariomp_ibfk_2`
    FOREIGN KEY (`idAlmacen`)
    REFERENCES `papeleraartesanal`.`almacen` (`idAlmacen`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`inventariopt`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`inventariopt` (
  `idInventarioPT` VARCHAR(10) NOT NULL,
  `idAlmacen` VARCHAR(10) NULL DEFAULT NULL,
  `stockActual` INT NULL DEFAULT NULL,
  PRIMARY KEY (`idInventarioPT`),
  INDEX `idAlmacen` (`idAlmacen` ASC) VISIBLE,
  CONSTRAINT `inventariopt_ibfk_2`
    FOREIGN KEY (`idAlmacen`)
    REFERENCES `papeleraartesanal`.`almacen` (`idAlmacen`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`materiaprima`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`materiaprima` (
  `idMateriaPrima` VARCHAR(10) NOT NULL,
  `nombre` VARCHAR(100) NULL DEFAULT NULL,
  `descripcion` TEXT NULL DEFAULT NULL,
  `unidadMedida` VARCHAR(20) NULL DEFAULT NULL,
  `stockMinimo` INT NULL DEFAULT NULL,
  `tipoMP` VARCHAR(20) NULL DEFAULT NULL,
  PRIMARY KEY (`idMateriaPrima`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`movimientomi`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`movimientomi` (
  `idMovimientoMI` VARCHAR(10) NOT NULL,
  `idMaterialIntermedio` VARCHAR(10) NULL DEFAULT NULL,
  `fechaMovimiento` TIMESTAMP NULL DEFAULT NULL,
  `tipo` VARCHAR(20) NULL DEFAULT NULL,
  `cantidad` INT NULL DEFAULT NULL,
  `idEmpleado` VARCHAR(10) NULL DEFAULT NULL,
  `idCompra` VARCHAR(10) NULL DEFAULT NULL,
  `idInventarioMI` VARCHAR(10) NULL,
  PRIMARY KEY (`idMovimientoMI`),
  INDEX `idMaterialIntermedio` (`idMaterialIntermedio` ASC) VISIBLE,
  INDEX `idEmpleado` (`idEmpleado` ASC) VISIBLE,
  INDEX `idInventarioMI_idx` (`idInventarioMI` ASC) VISIBLE,
  INDEX `idCompra_idx` (`idCompra` ASC) VISIBLE,
  CONSTRAINT `movimientomi_ibfk_1`
    FOREIGN KEY (`idMaterialIntermedio`)
    REFERENCES `papeleraartesanal`.`materialintermedio` (`idMaterialIntermedio`),
  CONSTRAINT `movimientomi_ibfk_2`
    FOREIGN KEY (`idEmpleado`)
    REFERENCES `papeleraartesanal`.`empleado` (`idEmpleado`),
  CONSTRAINT `idInventarioMI`
    FOREIGN KEY (`idInventarioMI`)
    REFERENCES `papeleraartesanal`.`inventariomi` (`idInventarioMI`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `idCompra`
    FOREIGN KEY (`idCompra`)
    REFERENCES `papeleraartesanal`.`compra` (`idCompra`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`movimientomp`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`movimientomp` (
  `idMovimientoMP` VARCHAR(10) NOT NULL,
  `idMateriaPrima` VARCHAR(10) NULL DEFAULT NULL,
  `fechaMovimiento` TIMESTAMP NULL DEFAULT NULL,
  `tipo` VARCHAR(20) NULL DEFAULT NULL,
  `cantidad` INT NULL DEFAULT NULL,
  `idEmpleado` VARCHAR(10) NULL DEFAULT NULL,
  `idCompra` VARCHAR(10) NULL DEFAULT NULL,
  `idInventarioMP` VARCHAR(10) NULL,
  PRIMARY KEY (`idMovimientoMP`),
  INDEX `idMateriaPrima` (`idMateriaPrima` ASC) VISIBLE,
  INDEX `idEmpleado` (`idEmpleado` ASC) VISIBLE,
  INDEX `idInventarioMP_idx` (`idInventarioMP` ASC) VISIBLE,
  INDEX `idCompra_idx` (`idCompra` ASC) VISIBLE,
  CONSTRAINT `movimientomp_ibfk_1`
    FOREIGN KEY (`idMateriaPrima`)
    REFERENCES `papeleraartesanal`.`materiaprima` (`idMateriaPrima`),
  CONSTRAINT `movimientomp_ibfk_2`
    FOREIGN KEY (`idEmpleado`)
    REFERENCES `papeleraartesanal`.`empleado` (`idEmpleado`),
  CONSTRAINT `idInventarioMP`
    FOREIGN KEY (`idInventarioMP`)
    REFERENCES `papeleraartesanal`.`inventariomp` (`idInventarioMP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `idCompra`
    FOREIGN KEY (`idCompra`)
    REFERENCES `papeleraartesanal`.`compra` (`idCompra`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`movimientopt`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`movimientopt` (
  `idMovimientoPT` VARCHAR(10) NOT NULL,
  `idProductoTerminado` VARCHAR(10) NULL DEFAULT NULL,
  `fechaMovimiento` TIMESTAMP NULL DEFAULT NULL,
  `tipo` VARCHAR(20) NULL DEFAULT NULL,
  `cantidad` INT NULL DEFAULT NULL,
  `idEmpleado` VARCHAR(10) NULL DEFAULT NULL,
  `idInventarioPT` VARCHAR(19) NULL,
  PRIMARY KEY (`idMovimientoPT`),
  INDEX `idProductoTerminado` (`idProductoTerminado` ASC) VISIBLE,
  INDEX `idEmpleado` (`idEmpleado` ASC) VISIBLE,
  INDEX `idInventarioPT_idx` (`idInventarioPT` ASC) VISIBLE,
  CONSTRAINT `movimientopt_ibfk_1`
    FOREIGN KEY (`idProductoTerminado`)
    REFERENCES `papeleraartesanal`.`productoterminado` (`idProductoTerminado`),
  CONSTRAINT `movimientopt_ibfk_2`
    FOREIGN KEY (`idEmpleado`)
    REFERENCES `papeleraartesanal`.`empleado` (`idEmpleado`),
  CONSTRAINT `idInventarioPT`
    FOREIGN KEY (`idInventarioPT`)
    REFERENCES `papeleraartesanal`.`inventariopt` (`idInventarioPT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`proveedorxmaterialintermedio`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`proveedorxmaterialintermedio` (
  `idProveedor` VARCHAR(10) NOT NULL,
  `idMaterialIntermedio` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`idProveedor`, `idMaterialIntermedio`),
  INDEX `idMaterialIntermedio` (`idMaterialIntermedio` ASC) VISIBLE,
  CONSTRAINT `proveedorxmaterialintermedio_ibfk_1`
    FOREIGN KEY (`idProveedor`)
    REFERENCES `papeleraartesanal`.`proveedor` (`idProveedor`),
  CONSTRAINT `proveedorxmaterialintermedio_ibfk_2`
    FOREIGN KEY (`idMaterialIntermedio`)
    REFERENCES `papeleraartesanal`.`materialintermedio` (`idMaterialIntermedio`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `papeleraartesanal`.`proveedorxmateriaprima`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `papeleraartesanal`.`proveedorxmateriaprima` (
  `idProveedor` VARCHAR(10) NOT NULL,
  `idMateriaPrima` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`idProveedor`, `idMateriaPrima`),
  INDEX `idMateriaPrima` (`idMateriaPrima` ASC) VISIBLE,
  CONSTRAINT `proveedorxmateriaprima_ibfk_1`
    FOREIGN KEY (`idProveedor`)
    REFERENCES `papeleraartesanal`.`proveedor` (`idProveedor`),
  CONSTRAINT `proveedorxmateriaprima_ibfk_2`
    FOREIGN KEY (`idMateriaPrima`)
    REFERENCES `papeleraartesanal`.`materiaprima` (`idMateriaPrima`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
